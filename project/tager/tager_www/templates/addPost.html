{% extends "base.html"%}
{% load staticfiles %}
{% block content%} 

<div align="center">
    {% if list_of_channels %}
    <h3>Channel</h3>
    <select id="Channel_dropdown">
    <option> Select The Channel Please</option>    
    {% for Channel in list_of_channels %}
    
    <option value="{{Channel.id}}">{{ Channel.name }}</option>
    {% endfor %} 
    </select>
    {% endif %}
    </div>

<div align="center">
{% if list_of_subchannels %}
    <h3>The available sub channels are:</h3>
    <select id="subChannel_dropdown">   
    <option> Select The Sub channel Please</option>    
    {% for SubChannel in list_of_subchannels %}
    <option value="{{SubChannel.id}}">{{ SubChannel.name }}</option>
    {% endfor %} 
    </select>
{% endif %}
</div>


{% if add_post %}
<div align="center">
<div class="item" style="width:50%;padding:20px;border-style:solid;
border-width:5px;border-color:rgb(201, 201, 201);margin 0 auto;float:none;" >
                  <div class="profileHeader" class="active" wotsearchprocessed="true">
                    <center><h2 >Add Post</h2> </center>
                  </div>
  
    <form enctype="multipart/form-data"  action="" method="post" align="justify">
        <span style ="color:red"> * Required </span>
        <div>
            <label class="control-label" for="id_title"> Title:</label>
            * <input class="option"  id="id_title" maxlength="30" name="title" type="text" 
             weight="5"> 
            <lbl id = "titleoutput" style="color:red"></lbl>
            </div>
        
        

        
        <div>
            <label for="id_price">Price:</label>
            * <input class="option"  id="id_price" name="price" type="text" weight="5">
            <lbl id = "priceoutput" style="color:red"></lbl> 
        </div>
        <div>
        <label for="id_location">Location:</label>
        * <input class="option" id="id_location" name="location"  type="text" weight="5"> 
        </div>
        <div>
            <label for="id_description">Description:</label>
            * <textarea class="option"  id="id_description" maxlength="200" name="description" weight="5"></textarea>
            <lbl id = "descriptionoutput" style="color:red"></lbl>
        </div>

<!-- 
<div class="control-group">
    <label class="control-label" for="inputEmail">Email</label>
    <div class="controls">
      <input type="text" id="inputEmail" placeholder="Email">
    </div>
  </div>

         -->
        <div>
        <label for="id_picture">Picture:</label>
            <input id="id_picture" name="picture" type="file">
            <button type="button" id="add1" class="btn btn-success btn-small">+</button>
        </div>
        
        
        <div id="picture1"> 
            <label for="id_picture1">Picture:</label>
            <input id="id_picture1" name="picture1" type="file"><button type="button" id="add2" class="btn btn-success btn-small">+</button>
        </div>
        
        <div id="picture2">
            <label for="id_picture2">Picture:</label>
            <input id="id_picture2" name="picture2" type="file">
            <button type="button" class="btn btn-success btn-small" id="add3">+</button>
        </div>

        <div id="picture3">
            <label for="id_picture3">Picture</label>
            <input id="id_picture3" name="picture3" type="file">
            <button type="button" class="btn btn-success btn-small" id="add4">+</button>
        </div>
        
        <div id="picture4">
            <label for="id_picture4">Picture</label>
            <input id="id_picture4" name="picture4" type="file"><button type="button" class="btn btn-success btn-small" id="add5">+</button>
        </div>
        
        <div id="picture5"> 
            <label for="id_picture5">Picture</label>
            <input id="id_picture5" name="picture5" type="file"><button type="button" id="add6" class="btn btn-success btn-small">+</button>
        </div> 
        


        <br>
        {% for Attribute in list_of_attributes %}
            <label>{{ Attribute.name }} : </label> 
            <input class="option" name='option_{{Attribute.id}}' type="text" weight="{{Attribute.weight}}">
            <lbl style="color:Green">Optional</lbl>
        {% endfor %}

        <br>
        <br>
        <center>
            <div>
        <span class="label label-info">Post Quality</span>
        <div class="progress progress-striped active" style="width: 400px;">
            <div class="bar bar-warning" id="budgetbar2" style="width: 0px;">0%</div>
        </div>
        </div>
        </center>
        <div>
        <input type="submit" class="btn btn-success btn-medium" value="Submit" id="SubmitAction" >
        </div>
</div>

    </form>

</div>
</div>

{% endif %}

<script type="text/javascript">



$(function() {


    $('.option').on('change', function() {
        var total = 0;
        var $bar = $('.bar');
        
        
        $('.option').each(function() {
            if (parseInt(this.value.length) > 0 ) {
           //total += parseInt($(this).val());
           var weight = this.attributes.weight.value;
                total +=parseInt(weight);}
        });
            
        if (total<=100){        
        $bar.width(100);
        $bar.text(100 + "%");}
        
        if (total<30){
            $bar.removeClass('bar-warning');
            $bar.removeClass('bar-success');
            $bar.addClass('bar-danger');}
        else{ if (total>30 && total<70) {
            $bar.removeClass('bar-danger');
            $bar.removeClass('bar-success');
            $bar.addClass('bar-warning');}
             else{ 
            $bar.removeClass('bar-warning');
             $bar.removeClass('bar-danger');    
            $bar.addClass('bar-success');}
             } 
        $bar.width(total*4 );
        $bar.text(total + "%");
    });

});
</script>
{% endblock %}